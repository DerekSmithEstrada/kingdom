{% extends "base.html" %}
{% block content %}
<header class="bg-slate-800/80 backdrop-blur border-b border-slate-700">
  <div class="max-w-6xl mx-auto px-4 py-4 space-y-4">
    <h1 class="text-2xl font-semibold tracking-wide">Idle Village Overview</h1>
    <div id="hud-status" class="panel-status" hidden>Loading HUDâ€¦</div>
    <div
      class="grid grid-cols-2 gap-3 sm:grid-cols-4 lg:grid-cols-8"
      id="hud-chips"
      aria-live="polite"
      aria-busy="true"
    ></div>
    <div id="hud-messages" class="hud-messages" aria-live="polite">
      <ul id="hud-warnings" class="notification-list"></ul>
    </div>
  </div>
</header>

<main class="flex-1">
  <div class="max-w-6xl mx-auto px-4 py-6">
    <div class="grid gap-6 lg:grid-cols-3">
      <section class="panel" id="buildings">
        <div class="panel-header flex-col gap-3 sm:flex-row sm:items-center sm:justify-between">
          <h2 class="panel-title">Buildings</h2>
          <form id="build-form" class="build-form" autocomplete="off">
            <label class="sr-only" for="build-type">Construct building</label>
            <select id="build-type" name="build-type" class="build-select"></select>
            <button type="submit" class="build-button">Construct</button>
          </form>
        </div>
        <div id="buildings-status" class="panel-status" hidden>Loading buildingsâ€¦</div>
        <ul class="space-y-4" id="building-list" aria-live="polite"></ul>
      </section>

      <section class="panel" id="jobs">
        <div class="panel-header justify-between">
          <h2 class="panel-title">Workers <span id="jobs-count">0/0</span> ðŸ‘¤</h2>
        </div>
        <div id="jobs-status" class="panel-status" hidden>Loading workersâ€¦</div>
        <div class="worker-summary">
          <p class="worker-summary__line">Available: <span id="workers-available">0</span></p>
          <p class="worker-summary__line">Assigned: <span id="workers-assigned">0</span></p>
        </div>
        <div class="space-y-3" id="jobs-list" aria-live="polite"></div>
      </section>

      <section class="panel" id="trade">
        <div class="panel-header">
          <h2 class="panel-title">Trade</h2>
        </div>
        <div id="trade-status" class="panel-status" hidden>Loading tradeâ€¦</div>
        <div class="space-y-4" id="trade-list" aria-live="polite"></div>
      </section>
    </div>
  </div>
</main>
{% endblock %}
